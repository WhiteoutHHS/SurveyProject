@page "/Login"

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <h1 class="text-center mb-4">Вход</h1>

            <form id="loginForm">
                <div class="mb-3">
                    <label for="email" class="form-label" id="emailLabel">Эл. почта <span id="emailStar" class="text-danger">*</span></label>
                    <input type="email" class="form-control rounded-pill border border-primary shadow-sm" id="email" placeholder="email" aria-describedby="emailHelp" oninput="validateField('email', 'emailStar', 'emailLabel')">
                    <div id="emailHelp" class="form-text">Укажите вашу Эл. почту</div>
                </div>

                <div class="mb-3">
                    <label for="password" class="form-label" id="passwordLabel">Пароль <span id="passwordStar" class="text-danger">*</span></label>
                    <input type="password" class="form-control rounded-pill border border-primary shadow-sm" id="password" placeholder="Пароль" aria-describedby="passwordHelp" oninput="validateField('password', 'passwordStar', 'passwordLabel')">
                    <div id="passwordHelp" class="form-text">Придумайте надежный пароль</div>
                </div>

                <div class="d-grid gap-2">
                    <button type="button" class="btn btn-primary rounded-pill shadow" id="completeButton">
                        Завершить <span class="oi oi-arrow-right" aria-hidden="true"></span>
                    </button>
                </div>
            </form>

            <div class="text-center mt-3">
                У вас ещё нет аккаунта?
            </div>
            <div class="text-center mt-3">
                <a href="/Registration">Зарегистрироваться</a>
            </div>
        </div>
    </div>
</div>


<style>

    .input-group-text {
        border-left: 0;
    }

    .form-control:focus {
        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }

    .error {
        color: red;
    }

    .form-control {
        color: black;
        background-color: #EBF1FB;
    }

    .oi-arrow-right {
        font-size: 0.8em;
    }

    .red-text {
        color: red;
    }

</style>

<script>
    function validateField(inputId, starId, labelId) {
        let input = document.getElementById(inputId);
        let star = document.getElementById(starId);
        let label = document.getElementById(labelId);

        if (input.value.trim() === "") {
            star.style.display = "inline";
            label.classList.add("error");
        } else {
            star.style.display = "none";
            label.classList.remove("error");
        }
    }

    function validateForm() {
        let emailInput = document.getElementById("email");
        let passwordInput = document.getElementById("password");

        let emailLabel = document.getElementById("emailLabel");
        let passwordLabel = document.getElementById("passwordLabel");

        let emailStar = document.getElementById("emailStar");
        let passwordStar = document.getElementById("passwordStar");

        emailLabel.classList.remove("error");
        passwordLabel.classList.remove("error");

        emailStar.style.display = 'none';
        passwordStar.style.display = 'none';

        let isValid = true;

        if (emailInput.value.trim() === "") {
            emailLabel.classList.add("error");
            isValid = false;
            emailStar.style.display = 'inline';
        }

        if (passwordInput.value.trim() === "") {
            passwordLabel.classList.add("error");
            passwordStar.style.display = 'inline';
            isValid = false;
        }

        if (!isValid) {
            alert("Пожалуйста, заполните все обязательные поля.");
            return false;
        }

        return true;
    }

    const completeButton = document.getElementById("completeButton");

    completeButton.addEventListener("click", function() {
        if (validateForm()) {
            const emailLabel = document.getElementById("emailLabel");
            emailLabel.classList.remove("error");
            const passwordLabel = document.getElementById("passwordLabel");
            passwordLabel.classList.remove("error");
        }
    });
</script>